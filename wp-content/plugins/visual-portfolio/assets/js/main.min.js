!function(){"use strict";const{jQuery:t,VPData:e}=window,{__:o}=e,i=t(window);function s(){if("function"==typeof window.Event)window.dispatchEvent(new window.Event("resize"));else{const t=window.document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)}}const n={};let a=!1,r=!1;function l(){if(clearTimeout(r),!a)return;const e=t(".vp-portfolio__ready");if(e.length){let t=!1;e.each((function(){const{vpf:e}=this;if(!e)return;const o=n[e.uid]||"none";n[e.uid]=null===this.offsetParent?"hidden":"visible","hidden"===o&&"visible"===n[e.uid]&&(t=!0)})),t&&s()}else a=!1;r=setTimeout(l,500)}t(document).on("inited.vpf",(t=>{"vpf"===t.namespace&&(a=!0,l())}));class d{constructor(t,e){const i=this;i.$item=t;const s=t[0].className.split(/\s+/);for(let t=0;t<s.length;t+=1)s[t]&&/^vp-uid-/.test(s[t])&&(i.uid=s[t].replace(/^vp-uid-/,"")),s[t]&&/^vp-id-/.test(s[t])&&(i.id=s[t].replace(/^vp-id-/,""));i.uid?(i.href=window.location.href,i.$items_wrap=t.find(".vp-portfolio__items"),i.$slider_thumbnails_wrap=t.find(".vp-portfolio__thumbnails"),i.$pagination=t.find(".vp-portfolio__pagination-wrap"),i.$filter=t.find(".vp-portfolio__filter-wrap"),i.$sort=t.find(".vp-portfolio__sort-wrap"),i.id&&(i.$filter=i.$filter.add(".vp-single-filter.vp-id-".concat(i.id," .vp-portfolio__filter-wrap"))),i.id&&(i.$sort=i.$sort.add(".vp-single-sort.vp-id-".concat(i.id," .vp-portfolio__sort-wrap"))),i.userOptions=e,i.firstRun=!0,i.init()):console.error(o.couldnt_retrieve_vp)}emitEvent(t,e){e=e?[this].concat(e):[this],this.$item.trigger("".concat(t,".vpf"),e),this.$item.trigger("".concat(t,".vpf-uid-").concat(this.uid),e)}init(){const e=this;e.firstRun||e.destroy(),e.destroyed=!1,e.$item.addClass("vp-portfolio__ready"),e.initOptions(),e.initEvents(),e.initLayout(),e.initCustomColors(),e.emitEvent("init"),e.id&&(t(".vp-single-filter.vp-id-".concat(e.id)).addClass("vp-single-filter__ready").parent(".vp-portfolio__layout-elements").addClass("vp-portfolio__layout-elements__ready"),t(".vp-single-sort.vp-id-".concat(e.id)).addClass("vp-single-sort__ready").parent(".vp-portfolio__layout-elements").addClass("vp-portfolio__layout-elements__ready")),e.resized(),e.imagesLoaded(),e.emitEvent("inited"),e.firstRun=!1}isPreview(){return!!this.$item.closest("#vp_preview").length}resized(){s(),this.emitEvent("resized")}imagesLoaded(){this.$items_wrap.imagesLoaded&&this.$items_wrap.imagesLoaded().progress((()=>{this.emitEvent("imagesLoaded")}))}destroy(){const e=this;e.$item.removeClass("vp-portfolio__ready"),e.id&&(t(".vp-single-filter.vp-id-".concat(e.id)).removeClass("vp-single-filter__ready").parent(".vp-portfolio__layout-elements").removeClass("vp-portfolio__layout-elements__ready"),t(".vp-single-sort.vp-id-".concat(e.id)).removeClass("vp-single-sort__ready").parent(".vp-portfolio__layout-elements").removeClass("vp-portfolio__layout-elements__ready")),e.destroyEvents(),e.removeStyle(),e.renderStyle(),e.emitEvent("destroy"),e.destroyed=!0}addStyle(e,o,i){i=i||"";const s=this,{uid:n}=s;s.stylesList||(s.stylesList={}),void 0===s.stylesList[n]&&(s.stylesList[n]={}),void 0===s.stylesList[n][i]&&(s.stylesList[n][i]={}),void 0===s.stylesList[n][i][e]&&(s.stylesList[n][i][e]={}),s.stylesList[n][i][e]=t.extend(s.stylesList[n][i][e],o),s.emitEvent("addStyle",[e,o,i,s.stylesList])}removeStyle(t,e,o){o=o||"";const i=this,{uid:s}=i;i.stylesList||(i.stylesList={}),void 0===i.stylesList[s]||t||(i.stylesList[s]={}),void 0!==i.stylesList[s]&&void 0!==i.stylesList[s][o]&&void 0!==i.stylesList[s][o][t]&&t&&delete i.stylesList[s][o][t],i.emitEvent("removeStyle",[t,e,i.stylesList])}renderStyle(){const e=this,{uid:o}=e;let i="";e.stylesList||(e.stylesList={}),void 0!==e.stylesList[o]&&Object.keys(e.stylesList[o]).forEach((t=>{t&&(i+="@media ".concat(t," {")),Object.keys(e.stylesList[o][t]).forEach((s=>{const n=".vp-uid-".concat(o);let a="".concat(n," ").concat(s);a=a.replace(/, |,/g,", ".concat(n," ")),i+="".concat(a," {"),Object.keys(e.stylesList[o][t][s]).forEach((n=>{i+="".concat(n,":").concat(e.stylesList[o][t][s][n],";")})),i+="}"})),t&&(i+="}")}));let s=t("#vp-style-".concat(o));s.length||(s=t("<style>").attr("id","vp-style-".concat(o)).appendTo("head")),s.html(i),e.emitEvent("renderStyle",[i,e.stylesList,s])}firstToLowerCase(t){return t.substr(0,1).toLowerCase()+t.substr(1)}initOptions(e){const o=this;o.defaults={layout:"tile",itemsGap:0,pagination:"load-more"},e&&(o.userOptions=e);const i=o.$item[0].dataset,s={};Object.keys(i).forEach((t=>{t&&"vp"===t.substring(0,2)&&(s[o.firstToLowerCase(t.substring(2))]=i[t])})),o.options=t.extend({},o.defaults,s,o.userOptions),o.emitEvent("initOptions")}initEvents(){const e=this,o=".vpf-uid-".concat(e.uid);function s(){const t=e.$item[0].getBoundingClientRect(),{left:o}=t,i=window.innerWidth-t.right,s=parseFloat(e.$item.css("margin-left")||0),n=parseFloat(e.$item.css("margin-right")||0);e.$item.css({marginLeft:s-o,marginRight:n-i,maxWidth:"none",width:"auto"})}e.$item.hasClass("vp-portfolio__stretch")&&!e.isPreview()&&(i.on("load".concat(o," resize").concat(o," orientationchange").concat(o),(()=>{s()})),s()),e.$item.on("focus".concat(o),".vp-portfolio__item a",(function(){t(this).closest(".vp-portfolio__item").addClass("vp-portfolio__item-focus")})),e.$item.on("blur".concat(o),".vp-portfolio__item a",(function(){t(this).closest(".vp-portfolio__item").removeClass("vp-portfolio__item-focus")})),e.$filter.on("click".concat(o),".vp-filter .vp-filter__item a",(function(o){o.preventDefault();const i=t(this);e.loading||i.closest(".vp-filter__item").addClass("vp-filter__item-active").siblings().removeClass("vp-filter__item-active"),e.loadNewItems(i.attr("href"),!0)})),e.$sort.on("click".concat(o),".vp-sort .vp-sort__item a",(function(o){o.preventDefault();const i=t(this);e.loading||i.closest(".vp-sort__item").addClass("vp-sort__item-active").siblings().removeClass("vp-sort__item-active"),e.loadNewItems(i.attr("href"),!0)})),e.$filter.add(e.$sort).on("change".concat(o),".vp-filter select, .vp-sort select",(function(){const o=t(this),i=o.val(),s=o.find('[value="'.concat(i,'"]'));s.length&&e.loadNewItems(s.attr("data-vp-url"),!0)})),e.$item.on("click".concat(o),".vp-pagination .vp-pagination__item a",(function(o){o.preventDefault();const i=t(this),s=i.closest(".vp-pagination");if((!s.hasClass("vp-pagination__no-more")||"paged"===e.options.pagination)&&(e.loadNewItems(i.attr("href"),"paged"===e.options.pagination),"paged"===e.options.pagination&&s.hasClass("vp-pagination__scroll-top"))){const o=t("#wpadminbar"),i=window.pageYOffset||document.documentElement.scrollTop;let{top:n}=e.$item.offset();s.attr("data-vp-pagination-scroll-top")&&(n-=parseInt(s.attr("data-vp-pagination-scroll-top"),10)||0),o.length&&"fixed"===o.css("position")&&(n-=o.outerHeight()),n=Math.max(0,n),i>n&&window.scrollTo({top:n,behavior:"smooth"})}})),e.$item.on("click".concat(o),".vp-portfolio__items .vp-portfolio__item-meta-category a",(function(o){o.preventDefault(),o.stopPropagation(),e.loadNewItems(t(this).attr("href"),!0)})),e.$item.on("transitionend".concat(o),".vp-portfolio__items",(t=>{t.currentTarget===t.target&&e.resized()})),e.emitEvent("initEvents")}destroyEvents(){const t=this,e=".vpf-uid-".concat(t.uid);t.$item.off(e),t.$filter.off(e),t.$sort.off(e),i.off(e),t.emitEvent("destroyEvents")}initLayout(){this.emitEvent("initLayout"),this.renderStyle()}initCustomColors(){const e=this;e.$item.find("[data-vp-bg-color]").each((function(){const o=t(this).attr("data-vp-bg-color");e.addStyle('[data-vp-bg-color="'.concat(o,'"]'),{"background-color":"".concat(o," !important")})})),e.$item.find("[data-vp-text-color]").each((function(){const o=t(this).attr("data-vp-text-color");e.addStyle('[data-vp-text-color="'.concat(o,'"]'),{color:"".concat(o," !important")})})),e.renderStyle(),e.emitEvent("initCustomColors")}addItems(t,e,o){this.emitEvent("addItems",[t,e,o])}removeItems(t){this.emitEvent("removeItems",[t])}loadNewItems(e,o,i){const s=this,{randomSeed:n}=s.options;if(s.loading&&void 0===s.loading.readyState||!e||s.href===e)return;s.loading&&s.loading.readyState&&s.loading.abort&&s.loading.abort();const a={method:"POST",url:e,data:{vpf_ajax_call:!0,vpf_random_seed:void 0!==n&&n},complete(t){let{responseText:n}=t;s.href=e,s.replaceItems(n,o,i)}};s.loading=!0,s.$item.addClass("vp-portfolio__loading"),s.emitEvent("startLoadingNewItems",[e,a]),s.loading=t.ajax(a)}replaceItems(e,o,i){const s=this;if(!e)return;e=e.replace("<body",'<body><div id="vp-ajax-load-body"').replace("</body>","</div></body>");const n=t(e).filter("#vp-ajax-load-body"),a=n.find(".vp-portfolio.vp-uid-".concat(s.uid));if(a.length){const r=a.find(".vp-portfolio__items").html(),l=a.hasClass("vp-portfolio-not-found");s.$item.find(".vp-notice").remove(),l?(s.$item.find(".vp-portfolio__items-wrap").before(a.find(".vp-notice").clone()),s.$item.addClass("vp-portfolio-not-found")):s.$item.removeClass("vp-portfolio-not-found"),s.$filter.length&&s.$filter.each((function(){const e=t(this);let o="";o=e.parent().hasClass("vp-single-filter")?n.find('[class="'.concat(e.parent().attr("class").replace(" vp-single-filter__ready",""),'"] .vp-portfolio__filter-wrap')).html():a.find(".vp-portfolio__filter-wrap").html(),e.html(o)})),s.$sort.length&&s.$sort.each((function(){const e=t(this);let o="";o=e.parent().hasClass("vp-single-sort")?n.find('[class="'.concat(e.parent().attr("class").replace(" vp-single-sort__ready",""),'"] .vp-portfolio__sort-wrap')).html():a.find(".vp-portfolio__sort-wrap").html(),e.html(o)})),s.$pagination.length&&s.$pagination.html(a.find(".vp-portfolio__pagination-wrap").html()),s.addItems(t(r),o,a),s.emitEvent("loadedNewItems",[a,o,e]),i&&i()}const r=a.attr("data-vp-next-page-url");s.options.nextPageUrl=r,s.$item.attr("data-vp-next-page-url",r),s.$item.removeClass("vp-portfolio__loading"),s.loading=!1,s.emitEvent("endLoadingNewItems"),s.imagesLoaded(),s.initCustomColors()}}t(document).trigger("extendClass.vpf",[d]);const p=function(e){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];let n;return this.each((function(){void 0===n&&("object"==typeof e||void 0===e?this.vpf||(this.vpf=new d(t(this),e)):this.vpf&&(n=this.vpf[e](...i)))})),void 0!==n?n:this};p.constructor=d;const c=t.fn.vpf;t.fn.vpf=p,t.fn.vpf.noConflict=function(){return t.fn.vpf=c,this},t((()=>{t(".vp-portfolio").vpf()}));const v=function(t,e,o,i){var s,n=!1,a=0;function r(){s&&clearTimeout(s)}function l(){for(var l=arguments.length,d=new Array(l),p=0;p<l;p++)d[p]=arguments[p];var c=this,v=Date.now()-a;function f(){a=Date.now(),o.apply(c,d)}function m(){s=void 0}n||(i&&!s&&f(),r(),void 0===i&&v>t?f():!0!==e&&(s=setTimeout(i?m:f,void 0===i?t-v:t)))}return"boolean"!=typeof e&&(i=o,o=e,e=void 0),l.cancel=function(){r(),n=!0},l}(200,(f=()=>{t(".vp-portfolio:not(.vp-portfolio__ready)").vpf()},m=[],u=null,_=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];m=e,u||(u=requestAnimationFrame((function(){u=null,f.apply(void 0,m)})))},_.cancel=function(){u&&(cancelAnimationFrame(u),u=null)},_));var f,m,u,_;window.MutationObserver?new window.MutationObserver(v).observe(document.documentElement,{childList:!0,subtree:!0}):t(document).on("DOMContentLoaded DOMNodeInserted load",(()=>{v()}))}();