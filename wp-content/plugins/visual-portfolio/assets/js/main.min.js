!function(){"use strict";const{jQuery:t,VPData:e}=window,{__:i}=e,o=t(window);function n(){if("function"==typeof window.Event)window.dispatchEvent(new window.Event("resize"));else{const t=window.document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)}}const s={};let a=!1,r=!1;function l(){if(clearTimeout(r),!a)return;const e=t(".vp-portfolio__ready");if(e.length){let t=!1;e.each((function(){const{vpf:e}=this;if(!e)return;const i=s[e.uid]||"none";s[e.uid]=null===this.offsetParent?"hidden":"visible","hidden"===i&&"visible"===s[e.uid]&&(t=!0)})),t&&n()}else a=!1;r=setTimeout(l,500)}t(document).on("inited.vpf",(t=>{"vpf"===t.namespace&&(a=!0,l())}));class c{constructor(t,e){const o=this;o.$item=t;const n=t[0].className.split(/\s+/);for(let t=0;t<n.length;t+=1)n[t]&&/^vp-uid-/.test(n[t])&&(o.uid=n[t].replace(/^vp-uid-/,"")),n[t]&&/^vp-id-/.test(n[t])&&(o.id=n[t].replace(/^vp-id-/,""));o.uid?(o.href=window.location.href,o.$items_wrap=t.find(".vp-portfolio__items"),o.$slider_thumbnails_wrap=t.find(".vp-portfolio__thumbnails"),o.$pagination=t.find(".vp-portfolio__pagination-wrap"),o.$filter=t.find(".vp-portfolio__filter-wrap"),o.$sort=t.find(".vp-portfolio__sort-wrap"),o.id&&(o.$filter=o.$filter.add(".vp-single-filter.vp-id-".concat(o.id," .vp-portfolio__filter-wrap"))),o.id&&(o.$sort=o.$sort.add(".vp-single-sort.vp-id-".concat(o.id," .vp-portfolio__sort-wrap"))),o.userOptions=e,o.firstRun=!0,o.init()):console.error(i.couldnt_retrieve_vp)}emitEvent(t,e){e=e?[this].concat(e):[this],this.$item.trigger("".concat(t,".vpf"),e),this.$item.trigger("".concat(t,".vpf-uid-").concat(this.uid),e)}init(){const e=this;e.firstRun||e.destroy(),e.destroyed=!1,e.$item.addClass("vp-portfolio__ready"),e.initOptions(),e.initEvents(),e.initLayout(),e.initCustomColors(),e.emitEvent("init"),e.id&&(t(".vp-single-filter.vp-id-".concat(e.id)).addClass("vp-single-filter__ready"),t(".vp-single-sort.vp-id-".concat(e.id)).addClass("vp-single-sort__ready")),e.resized(),e.imagesLoaded(),e.emitEvent("inited"),e.firstRun=!1}isPreview(){return!!this.$item.closest("#vp_preview").length}resized(){n(),this.emitEvent("resized")}imagesLoaded(){this.$items_wrap.imagesLoaded&&this.$items_wrap.imagesLoaded().progress((()=>{this.emitEvent("imagesLoaded")}))}destroy(){const e=this;e.$item.removeClass("vp-portfolio__ready"),e.id&&(t(".vp-single-filter.vp-id-".concat(e.id)).removeClass("vp-single-filter__ready"),t(".vp-single-sort.vp-id-".concat(e.id)).removeClass("vp-single-sort__ready")),e.destroyEvents(),e.removeStyle(),e.renderStyle(),e.emitEvent("destroy"),e.destroyed=!0}addStyle(e,i,o){o=o||"";const n=this,{uid:s}=n;n.stylesList||(n.stylesList={}),void 0===n.stylesList[s]&&(n.stylesList[s]={}),void 0===n.stylesList[s][o]&&(n.stylesList[s][o]={}),void 0===n.stylesList[s][o][e]&&(n.stylesList[s][o][e]={}),n.stylesList[s][o][e]=t.extend(n.stylesList[s][o][e],i),n.emitEvent("addStyle",[e,i,o,n.stylesList])}removeStyle(t,e,i){i=i||"";const o=this,{uid:n}=o;o.stylesList||(o.stylesList={}),void 0===o.stylesList[n]||t||(o.stylesList[n]={}),void 0!==o.stylesList[n]&&void 0!==o.stylesList[n][i]&&void 0!==o.stylesList[n][i][t]&&t&&delete o.stylesList[n][i][t],o.emitEvent("removeStyle",[t,e,o.stylesList])}renderStyle(){const e=this,{uid:i}=e;let o="";e.stylesList||(e.stylesList={}),void 0!==e.stylesList[i]&&Object.keys(e.stylesList[i]).forEach((t=>{t&&(o+="@media ".concat(t," {")),Object.keys(e.stylesList[i][t]).forEach((n=>{const s=".vp-uid-".concat(i);let a="".concat(s," ").concat(n);a=a.replace(/, |,/g,", ".concat(s," ")),o+="".concat(a," {"),Object.keys(e.stylesList[i][t][n]).forEach((s=>{o+="".concat(s,":").concat(e.stylesList[i][t][n][s],";")})),o+="}"})),t&&(o+="}")}));let n=t("#vp-style-".concat(i));n.length||(n=t("<style>").attr("id","vp-style-".concat(i)).appendTo("head")),n.html(o),e.emitEvent("renderStyle",[o,e.stylesList,n])}firstToLowerCase(t){return t.substr(0,1).toLowerCase()+t.substr(1)}initOptions(e){const i=this;i.defaults={layout:"tile",itemsGap:0,pagination:"load-more"},e&&(i.userOptions=e);const o=i.$item[0].dataset,n={};Object.keys(o).forEach((t=>{t&&"vp"===t.substring(0,2)&&(n[i.firstToLowerCase(t.substring(2))]=o[t])})),i.options=t.extend({},i.defaults,n,i.userOptions),i.emitEvent("initOptions")}initEvents(){const e=this,i=".vpf-uid-".concat(e.uid);function n(){const t=e.$item[0].getBoundingClientRect(),{left:i}=t,o=window.innerWidth-t.right,n=parseFloat(e.$item.css("margin-left")||0),s=parseFloat(e.$item.css("margin-right")||0);e.$item.css({marginLeft:n-i,marginRight:s-o,maxWidth:"none",width:"auto"})}let s;function a(){const t=e.$item[0].getBoundingClientRect();0<t.bottom&&t.bottom-250<=window.innerHeight&&e.loadNewItems(e.options.nextPageUrl,!1,(()=>{clearTimeout(s),s=setTimeout((()=>{a()}),300)}))}e.$item.hasClass("vp-portfolio__stretch")&&!e.isPreview()&&(o.on("load".concat(i," resize").concat(i," orientationchange").concat(i),(()=>{n()})),n()),e.$item.on("focus".concat(i),".vp-portfolio__item a",(function(){t(this).closest(".vp-portfolio__item").addClass("vp-portfolio__item-focus")})),e.$item.on("blur".concat(i),".vp-portfolio__item a",(function(){t(this).closest(".vp-portfolio__item").removeClass("vp-portfolio__item-focus")})),e.$filter.on("click".concat(i),".vp-filter .vp-filter__item a",(function(i){i.preventDefault();const o=t(this);e.loading||o.closest(".vp-filter__item").addClass("vp-filter__item-active").siblings().removeClass("vp-filter__item-active"),e.loadNewItems(o.attr("href"),!0)})),e.$sort.on("click".concat(i),".vp-sort .vp-sort__item a",(function(i){i.preventDefault();const o=t(this);e.loading||o.closest(".vp-sort__item").addClass("vp-sort__item-active").siblings().removeClass("vp-sort__item-active"),e.loadNewItems(o.attr("href"),!0)})),e.$filter.add(e.$sort).on("change".concat(i),".vp-filter select, .vp-sort select",(function(){const i=t(this),o=i.val(),n=i.find('[value="'.concat(o,'"]'));n.length&&e.loadNewItems(n.attr("data-vp-url"),!0)})),e.$item.on("click".concat(i),".vp-pagination .vp-pagination__item a",(function(i){i.preventDefault();const o=t(this),n=o.closest(".vp-pagination");if((!n.hasClass("vp-pagination__no-more")||"paged"===e.options.pagination)&&(e.loadNewItems(o.attr("href"),"paged"===e.options.pagination),"paged"===e.options.pagination&&n.hasClass("vp-pagination__scroll-top"))){const i=t("#wpadminbar"),o=window.pageYOffset||document.documentElement.scrollTop;let{top:s}=e.$item.offset();n.attr("data-vp-pagination-scroll-top")&&(s-=parseInt(n.attr("data-vp-pagination-scroll-top"),10)||0),i.length&&"fixed"===i.css("position")&&(s-=i.outerHeight()),s=Math.max(0,s),o>s&&window.scrollTo({top:s,behavior:"smooth"})}})),e.$item.on("click".concat(i),".vp-portfolio__items .vp-portfolio__item-meta-category a",(function(i){i.preventDefault(),i.stopPropagation(),e.loadNewItems(t(this).attr("href"),!0)})),"infinite"===e.options.pagination&&(o.on("load".concat(i," scroll").concat(i," resize").concat(i," orientationchange").concat(i),(()=>{clearTimeout(s),s=setTimeout((()=>{a()}),60)})),a()),e.$item.on("transitionend".concat(i),".vp-portfolio__items",(t=>{t.currentTarget===t.target&&e.resized()})),e.emitEvent("initEvents")}destroyEvents(){const t=this,e=".vpf-uid-".concat(t.uid);t.$item.off(e),t.$filter.off(e),t.$sort.off(e),o.off(e),t.emitEvent("destroyEvents")}initLayout(){this.emitEvent("initLayout"),this.renderStyle()}initCustomColors(){const e=this;e.$item.find("[data-vp-bg-color]").each((function(){const i=t(this).attr("data-vp-bg-color");e.addStyle('[data-vp-bg-color="'.concat(i,'"]'),{"background-color":"".concat(i," !important")})})),e.$item.find("[data-vp-text-color]").each((function(){const i=t(this).attr("data-vp-text-color");e.addStyle('[data-vp-text-color="'.concat(i,'"]'),{color:"".concat(i," !important")})})),e.renderStyle(),e.emitEvent("initCustomColors")}addItems(t,e,i){this.emitEvent("addItems",[t,e,i])}removeItems(t){this.emitEvent("removeItems",[t])}loadNewItems(e,i,o){const n=this,{randomSeed:s}=n.options;if(n.loading||!e||n.href===e)return;const a={method:"POST",url:e,data:{vpf_ajax_call:!0,vpf_random_seed:void 0!==s&&s},complete(t){let{responseText:s}=t;n.href=e,n.replaceItems(s,i,o)}};n.loading=!0,n.$item.addClass("vp-portfolio__loading"),n.emitEvent("startLoadingNewItems",[e,a]),t.ajax(a)}replaceItems(e,i,o){const n=this;if(!e)return;e=e.replace("<body",'<body><div id="vp-ajax-load-body"').replace("</body>","</div></body>");const s=t(e).filter("#vp-ajax-load-body"),a=s.find(".vp-portfolio.vp-uid-".concat(n.uid));if(a.length){const r=a.find(".vp-portfolio__items").html();a.hasClass("vp-portfolio-not-found")?(n.$item.find(".vp-portfolio__items-wrap").before(a.find(".vp-notice").clone()),n.$item.addClass("vp-portfolio-not-found")):(n.$item.find(".vp-notice").remove(),n.$item.removeClass("vp-portfolio-not-found")),n.$filter.length&&n.$filter.each((function(){const e=t(this);let i="";i=e.parent().hasClass("vp-single-filter")?s.find('[class="'.concat(e.parent().attr("class").replace(" vp-single-filter__ready",""),'"] .vp-portfolio__filter-wrap')).html():a.find(".vp-portfolio__filter-wrap").html(),e.html(i)})),n.$sort.length&&n.$sort.each((function(){const e=t(this);let i="";i=e.parent().hasClass("vp-single-sort")?s.find('[class="'.concat(e.parent().attr("class").replace(" vp-single-sort__ready",""),'"] .vp-portfolio__sort-wrap')).html():a.find(".vp-portfolio__sort-wrap").html(),e.html(i)})),n.$pagination.length&&n.$pagination.html(a.find(".vp-portfolio__pagination-wrap").html()),n.addItems(t(r),i,a),n.emitEvent("loadedNewItems",[a,i,e]),o&&o()}const r=a.attr("data-vp-next-page-url");n.options.nextPageUrl=r,n.$item.attr("data-vp-next-page-url",r),n.$item.removeClass("vp-portfolio__loading"),n.loading=!1,n.emitEvent("endLoadingNewItems"),n.imagesLoaded(),n.initCustomColors()}}t(document).trigger("extendClass.vpf",[c]);const d=function(e){for(var i=arguments.length,o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];let s;return this.each((function(){void 0===s&&("object"==typeof e||void 0===e?this.vpf||(this.vpf=new c(t(this),e)):this.vpf&&(s=this.vpf[e](...o)))})),void 0!==s?s:this};d.constructor=c;const p=t.fn.vpf;t.fn.vpf=d,t.fn.vpf.noConflict=function(){return t.fn.vpf=p,this},t((()=>{t(".vp-portfolio").vpf()}));const v=function(t,e,i,o){var n,s=!1,a=0;function r(){n&&clearTimeout(n)}function l(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var p=this,v=Date.now()-a;function f(){a=Date.now(),i.apply(p,c)}function m(){n=void 0}s||(o&&!n&&f(),r(),void 0===o&&v>t?f():!0!==e&&(n=setTimeout(o?m:f,void 0===o?t-v:t)))}return"boolean"!=typeof e&&(o=i,i=e,e=void 0),l.cancel=function(){r(),s=!0},l}(200,(f=()=>{t(".vp-portfolio:not(.vp-portfolio__ready)").vpf()},m=[],u=null,h=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];m=e,u||(u=requestAnimationFrame((function(){u=null,f.apply(void 0,m)})))},h.cancel=function(){u&&(cancelAnimationFrame(u),u=null)},h));var f,m,u,h;window.MutationObserver?new window.MutationObserver(v).observe(document.documentElement,{childList:!0,subtree:!0}):t(document).on("DOMContentLoaded DOMNodeInserted load",(()=>{v()}))}();