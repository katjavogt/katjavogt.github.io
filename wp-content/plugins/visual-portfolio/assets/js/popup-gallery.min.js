!function(){const e=window.jQuery,{VPData:t}=window,{settingsPopupGallery:o}=t,i={vendor:!1,vendors:[{vendor:"youtube",embedUrl:"https://www.youtube.com/embed/{{video_id}}?{{params}}",pattern:/(https?:\/\/)?(www.)?(youtube\.com|youtu\.be|youtube-nocookie\.com)\/(?:embed\/|v\/|watch\?v=|watch\?list=(.*)&v=|watch\?(.*[^&]&)v=)?((\w|-){11})(&list=(\w+)&?)?(.*)/,patternIndex:6,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramsIndex:10},{vendor:"vimeo",embedUrl:"https://player.vimeo.com/video/{{video_id}}?{{params}}",pattern:/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)(.*)/,patternIndex:3,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramsIndex:4}],init(){},open(){},close(){},getQueryStringParams:e=>e?(/^[?#]/.test(e)?e.slice(1):e).split("&").reduce(((e,t)=>{const[o,i]=t.split("=");return e[o]=i?decodeURIComponent(i.replace(/\+/g," ")):"",e}),{}):{},prepareParams(e,t){let o="";const p=t.params||{};if(t.paramsIndex&&e&&e[t.paramsIndex]){const o=i.getQueryStringParams(e[t.paramsIndex]);o&&"object"==typeof o&&Object.keys(o).forEach((e=>{e&&o[e]&&(p[e]=o[e])}))}return p&&Object.keys(p).length&&Object.keys(p).forEach((e=>{e&&p[e]&&(o&&(o+="&"),o+="".concat(e,"=").concat(p[e]))})),o},parseVideo(e,t){let o=!1;return i.vendors.forEach((p=>{if(!o){const a=e.match(p.pattern),r=!(!a||!a[p.patternIndex])&&a[p.patternIndex];if(r)if(p.embedCallback)o=p.embedCallback(e,a,t);else{let{embedUrl:t}=p;t=t.replace(/{{video_id}}/g,r),t=t.replace(/{{video_url}}/g,e),t=t.replace(/{{video_url_encoded}}/g,encodeURIComponent(e)),t=t.replace(/{{params}}/g,i.prepareParams(a,p));const l=p.width||1920,n=p.height||1080;o={vendor:p.vendor,id:r,embed:'<iframe width="'.concat(l,'" height="').concat(n,'" src="').concat(t,'" scrolling="no" frameborder="0" allowTransparency="true" allow="autoplay; fullscreen; encrypted-media" allowfullscreen></iframe>'),embedUrl:t,url:e,width:l,height:n}}}})),o||{vendor:"unknown",id:e,url:e,embedUrl:e,embed:'<iframe width="1920" height="1080" src="'.concat(e,'" scrolling="no" frameborder="0" allowTransparency="true" allow="autoplay; fullscreen; encrypted-media" allowfullscreen></iframe>')}},parseGallery(t){const o=[];let p,a,r,l,n;return t.find(".vp-portfolio__item-wrap:not(.swiper-slide-duplicate):not(.swiper-slide-duplicate-active)").each((function(){if(p=e(this).find(".vp-portfolio__item-popup"),p&&p.length){if(a=(p.attr("data-vp-popup-img-size")||"1920x1080").split("x"),l=p.attr("data-vp-popup-video"),n=!1,l&&(n=i.parseVideo(l,p.attr("data-vp-popup-poster"))),n)r={type:"embed",el:this,poster:n.poster,src:n.embedUrl,embed:n.embed,width:n.width||1920,height:n.height||1080};else{r={type:"image",el:this,src:p.attr("data-vp-popup-img"),srcset:p.attr("data-vp-popup-img-srcset"),width:parseInt(a[0],10),height:parseInt(a[1],10)};const e=p.attr("data-vp-popup-sm-img")||r.src;if(e){const t=(p.attr("data-vp-popup-sm-img-size")||p.attr("data-vp-popup-img-size")||"1920x1080").split("x");r.srcSmall=e,r.srcSmallWidth=parseInt(t[0],10),r.srcSmallHeight=parseInt(t[1],10)}const t=p.attr("data-vp-popup-md-img")||r.src;if(t){const e=(p.attr("data-vp-popup-md-img-size")||p.attr("data-vp-popup-img-size")||"1920x1080").split("x");r.srcMedium=t,r.srcMediumWidth=parseInt(e[0],10),r.srcMediumHeight=parseInt(e[1],10)}const o=p.children(".vp-portfolio__item-popup-title").get(0),i=p.children(".vp-portfolio__item-popup-description").get(0);(o||i)&&(r.caption=(o?o.outerHTML:"")+(i?i.outerHTML:""))}o.push(r)}})),o}};function p(e){return/(.png|.jpg|.jpeg|.gif|.tiff|.tif|.jfif|.jpe|.svg|.bmp|.webp)$/.test(e.href.toLowerCase().split("?")[0].split("#")[0])}function a(t){const o=e(t);let i=t.childNodes[0],p=o.next("figcaption");return"NOSCRIPT"===i.nodeName&&t.childNodes[1]&&(i=t.childNodes[1]),!p.length&&o.parent(".gallery-icon").length&&(p=o.parent(".gallery-icon").next("figcaption")),p=p.html(),p&&(p='<div class="vp-portfolio__item-popup-description">'.concat(p,"</div>")),{type:"image",el:i,linkEl:t,src:t.href,caption:p}}window.VPPopupAPI=i,e(document).on("extendClass.vpf",((t,o)=>{"vpf"===t.namespace&&(o.prototype.initPopupGallery=function(){const t=this;t.options.itemsClickAction&&"url"!==t.options.itemsClickAction&&(t.isPreview()||t.$item.on("click.vpf-uid-".concat(t.uid),".vp-portfolio__item a.vp-portfolio__item-meta, .vp-portfolio__item .vp-portfolio__item-img > a, .vp-portfolio__item .vp-portfolio__item-meta-title > a, .vp-portfolio__item a.vp-portfolio__item-overlay",(function(o){const p=e(this);if(!p.closest(".vp-portfolio__item-wrap").find(".vp-portfolio__item-popup").length)return;o.preventDefault();let a=-1;const r=p.closest(".vp-portfolio__item")[0];t.$item.find(".vp-portfolio__item-wrap:not(.swiper-slide-duplicate):not(.swiper-slide-duplicate-active) .vp-portfolio__item-popup").each((function(t){-1===a&&e(this).closest(".vp-portfolio__item-wrap").find(".vp-portfolio__item")[0]===r&&(a=t)})),0>a&&(a=0);const l=i.parseGallery(t.$item);i.open(l,a,t)})))},o.prototype.destroyPopupGallery=function(){const e=this;e.options.itemsClickAction&&"url"!==e.options.itemsClickAction&&(e.$item.off("click.vpf-uid-".concat(e.uid)),e.emitEvent("destroyPopupGallery"))})})),e(document).on("init.vpf",((e,t)=>{"vpf"===e.namespace&&t.initPopupGallery()})),e(document).on("destroy.vpf",((e,t)=>{"vpf"===e.namespace&&t.destroyPopupGallery()})),o.enable_on_wordpress_images&&e(document).on("click","\n        .wp-block-image > a,\n        .wp-block-image > figure > a,\n        .wp-block-gallery .blocks-gallery-item > figure > a,\n        .wp-block-gallery .wp-block-image > a,\n        .wp-block-media-text > figure > a,\n        .gallery .gallery-icon > a,\n        figure.wp-caption > a,\n        figure.tiled-gallery__item > a,\n        p > a\n    ",(function(t){if(!this.childNodes.length)return;let o=this.childNodes[0];if("NOSCRIPT"===o.nodeName&&this.childNodes[1]&&(o=this.childNodes[1]),"IMG"!==o.nodeName&&"PICTURE"!==o.nodeName)return;if(!p(this))return;t.preventDefault();const r=e(this),l=[],n=a(this),s=r.closest(".wp-block-gallery, .gallery, .tiled-gallery__gallery");let c=0;if(s.length){const e=s.find(".blocks-gallery-item > figure > a, .wp-block-image > a, .gallery-icon > a, figure.tiled-gallery__item > a");let t=0;e.each((function(){p(this)&&(this===n.linkEl&&(c=t),l.push(a(this)),t+=1)}))}else l.push(n);i.open(l,c)}))}();